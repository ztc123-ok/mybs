import random
from selenium import webdriver
from selenium.webdriver.common.by import By
import time
from lxml import etree
import requests
import re
from time import sleep
from get_user_agent import get_user_agent_of_pc
from selenium.webdriver.chrome.service import Service


start = time.time()
headers={
    'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36 Edg/124.0.0.0',
    'Cookie':'shshshfpa=4eccbd75-7112-ddc0-840d-579ce33d0049-1637991376; shshshfpx=4eccbd75-7112-ddc0-840d-579ce33d0049-1637991376; jcap_dvzw_fp=E92Yv6YSsqTTkYbqtoTKoLEGmzHRH9-d4sJylPD5-pqyueBvaBwopiz900sVl4himFCpvdg3VYKGaDQo0x4mHA==; shshshfp=bcf745608e2e37e2f77e240ad09d3e5b; __jdu=1707238363591630722243; mt_xid=V2_52007VwMUU1tbUFMdThtYDWcEEFNbW1FZGkspCVFgUBJWXAhOXksaSkAAMwASTlVbBlwDTk4MAzcHQQYOWlYNL0oYXwB7AhdOXVhDWhdCGlgOZwAiUG1bYlkeTxFZAFcAFVJb; pinId=GO-iPAqMeK68qRvJ7-3D6A; pin=jd_daLESLDSfwjp; unick=jd_daLESLDSfwjp; _tp=s9i0H1GFz76XmrsaI5mNZQ%3D%3D; _pst=jd_daLESLDSfwjp; TrackID=1myHmHkB728OVay8qNi7mSBXed48UWVh7XzW8VwmSWAPi09Tv1LbzWAHvhDySdG_ugZfCEeyLyK51GY2bLOYuJLjkP-Tm176ki_9KYwMwQZ67XYIr6XL-b1yuTvoKct7z; thor=942193D0C34E037DA3C6162CEE1CA4B357E3FBB5D828592EE82186EB466FE2E62CC2164BCB6756F3B4CCE157D076849D511A92509EF0F8363E7D3B26567703177C11314A25099FCCCFEAB66EAE2B43F3B26B5D2052D743873E45F0BDCE240A3D2E24E9BEFC4E978357E95B901758D33E2186A54B0B1B96E2C0EBD1D3BB1B58488979046AE362D84225501005ABE1F0346F359FA260AA32EDEDC7C3413EB5D81C; flash=2_llwFpm-xOkIKZt9dJaCeXz7NMJ6n5I6K5m3tQ-XYlP-5EoWAXSQ9f_kTuwDU7IVuvg3G312pbi9Eyo5weCz5Rhuk3EuIQJNikqArtEyC46D*; areaId=15; PCSYCityID=CN_330000_330700_0; jsavif=1; token=cb1e55ecb20b005341f5a239206ecab3,3,952091; __tk=9a7149f84d1127c8e083bcc0b86341c0,3,952091; ipLoc-djd=15-1213-3038-59931; shshshfpb=BApXc29lCB-pAOhNlg1UzdDbEPutY-7GTB3XYFFls9xJ1MtTzCoC2; unpl=JF8EALFnNSttDBwGDRwASBAWTlhUWw0KSB8COG8HUVkITQQHHgQZG0B7XlVdWBRKEh9sZBRUX1NPUg4aAysSEXteU11bD00VB2xXXAQDGhUQR09SWEBJJVtcW1kPTh4Bb2Y1ZF5Ye1QEKwIdExZIX11cWgpPHwNoZQRSXltIUQcrAysVIHttVltZAEMWM25XBGQfDBddAxkGGBddS1tVWF4KQhUEbWMNVFpaSlIGGAEeECBKbVc; __jdv=76161171|haosou-search|t_262767352_haosousearch|cpc|7945648310_0_efc963b374414a3290f9345a7a34738a|1713765423262; 3AB9D23F7A4B3CSS=jdd03IRSQS34ZF5FQYI26PRFZJQEK43DYEKFA4UR3VUJDOOSW62U6A3AH7Z6VVEYPZJR2QOU7SUIB7VN6WH4CZTTTZ5KQOIAAAAMPARQRSEIAAAAAC4QQ7WXN3TTSEUX; _gia_d=1; __jda=143920055.1707238363591630722243.1707238363.1712896141.1713763902.6; __jdc=143920055; 3AB9D23F7A4B3C9B=IRSQS34ZF5FQYI26PRFZJQEK43DYEKFA4UR3VUJDOOSW62U6A3AH7Z6VVEYPZJR2QOU7SUIB7VN6WH4CZTTTZ5KQOI; __jdb=143920055.7.1707238363591630722243|6.1713763902'
}
first_page = "https://api.m.jd.com/?appid=search-pc-java&functionId=pc_search_batch_stock&client=pc&clientVersion=1.0.0&t=1713765436398&body=%7B%22sku%22%3A%22100052311500%2C100074546313%2C100076141338%2C100041367896%2C100041367898%2C100041367878%2C100080686395%2C100051092880%2C100058470737%2C100032670736%2C100097037916%2C100097037910%2C100035815894%2C100066639219%2C100064273638%2C100064273640%2C100077364983%2C100080366398%2C100020974898%2C100020974914%2C100071972641%2C100071972659%2C100071564720%2C100071564696%2C10096514942675%2C10096514942677%2C100047612082%2C100055559557%22%2C%22yushouFlag%22%3A%220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000%22%7D&loginType=3&uuid=143920055.1707238363591630722243.1707238363.1712896141.1713763902.6&area=15_1213_3038_59931&h5st=20240422135716447%3Bqe6yffnmnnc1uk17%3Bf06cc%3Btk03w865a1b9318nvlXpHU3ESYA8Z5XrfROIGh88fd1WOM9dF1MFlN-L1qApldUdwanebm7Npz1hCMGWk7PapHj-MMqU%3Bb40addbc6f1d908bbbb6831a9e61dfcb5f5371c3fbd470d06906dfcc3f351d59%3B4.3%3B1713765436447%3Bdd5cf478e70f73f34d265642738e316bc0f9a6da94374905c9970322b82790b67a374a2bbdafb5ad993bdd6053b7597c26f01b90b0980e7e0e308a85368cf0bf010f66193ccc951de13a0c31cf94a832d22289666e81e4d8ad848f81b5954d2c5e9143fc5f4627273a1fd81bb14e12a89b95144e50917a505925925c10eaa36cf6901eda81d4ab9e5a8cfc97b761db442691ee1cc1e38873e3b3886ce546b385681ad123ef3f80bc7a20818dbd122198f418dfc734b35d3a0c8303b9692c33b743567f52dd28d09188db6f05d63ab886345593599771076fa7f48acea564ec5190b1aed89af893b41bd1d5fd6ab6614905d5f528fb335e8708451e64c957c731f33c9c7fd20060c0a3593989f895bb9a60191cbd42304cf3f90bb9fd97e919c687bad70a9e6846e3f169b248c73d2927&x-api-eid-token=jdd03IRSQS34ZF5FQYI26PRFZJQEK43DYEKFA4UR3VUJDOOSW62U6A3AH7Z6VVEYPZJR2QOU7SUIB7VN6WH4CZTTTZ5KQOIAAAAMPARQRSEIAAAAAC4QQ7WXN3TTSEUX"
response = requests.get(url=first_page,headers=headers)
print(response)